[tox]
envlist = py36,py38,py39,py310,py311,lint

[testenv]
deps = -r{toxinidir}/test-requirements.txt

[testenv:py38]
basepython = python3.8
commands = python3 setup.py test

[testenv:py39]
basepython = python3.9
commands = python3 setup.py test

[testenv:py310]
basepython = python3.10
commands = python3 setup.py test

[testenv:py311]
basepython = python3.11
commands = python3 setup.py test

[testenv:lint]
deps = -r{toxinidir}/test-requirements.txt
commands = flake8 --config ./lint-configs/python/.flake8 st2auth_flat_file_backend/
           pylint -E --rcfile=./lint-configs/python/.pylintrc st2auth_flat_file_backend/
